<!DOCTYPE html>
<head>
<meta charset="UTF-8">
<title>Játék sör mellé</title>
<script type="text/javascript" src="../../jquery/jquery.js"></script>

<style>

	
	body{
		width:100%;
		height:100%;
		margin:0;
		padding:0;
		background:url('bar_.png');
		background-repeat:no-repeat;
		background-size:cover;
		
	}
	
	h2#cim{
		width:440px;
		height:57px;
		margin-left:auto;
		margin-right:auto;
		padding-left:50px;
		font-family:Rockwell;
		color:orange;
		font-size: 48px;
	background: black;
	
		
	}
	
	table{
		width:600px;
		height:600px;
		/*border:1px solid black;*/
		margin:50px auto;
		cursor:pointer;
		border-collapse: collapse;
	}
	
	td{
		width:33,3%;
		height:33,3%;
		border:5px solid black;
		background:#fff;
	}
	
	
	button#reset, #reset button{
		margin:auto;
		color:orange;
		position: absolute;
		left: 47%;
		height:70px;
		width:110px;
		font-weight:bold;
		font-size:25px;
		background:#111;
		cursor:pointer;
	}
	
</style>


</head>
<body> 
<h2 id="cim">Játék Sör mellé</h2>

	<table>
		<tr>
			<td id="a1"></td>
			<td id="a2"></td>
			<td id="a3"></td>
		</tr>
		<tr>
			<td id="b1"></td>
			<td id="b2"></td>
			<td id="b3"></td>
		</tr>
		<tr>
			<td id="c1"></td>
			<td id="c2"></td>
			<td id="c3"></td>
		</tr>
		
		
	</table>
	
	<button id="reset">Reset</button>

<script type="text/javascript">
	
	var ClickCounter = 0;
	var Fields = ["a1","a2","a3","b1","b2","b3","c1","c2","c3"];
	var Cells = {};
	var item="";
	
	$("#reset").click(function() {
		$("td").css("background-image","none");
		Cells = {};
		Fields = ["a1","a2","a3","b1","b2","b3","c1","c2","c3"];
		ClickCounter = 0;
	});
	
	
	$("td").click(function() {
		//alert(JSON.stringify(Fields));
		//alert(JSON.stringify(Fields.includes("a3") ));
		
		var id = $(this).attr('id'); //lekérem az aktuális id értékét pl: a1
				
		if(Fields.includes(id) && ClickCounter != 5){
			Cells[id] = "x"; //a Cells id-edik eleme = x-szel
			$(this).css("background-image","url('x.png')"); //beírom az ikszet
			Fields.splice($.inArray(id, Fields),1); //a tömbböl kitörlöm a már klikkelt elemet	
			ClickCounter++; //lépések számát növelem (5-nél automatikusan leáll a játék)
		
		
				if(Cells["a1"]=="x" && Cells["a2"]=="x" && Cells["a3"]=="x" 
					|| Cells["b1"]=="x" && Cells["b2"]=="x" && Cells["b3"]=="x"
					|| Cells["c1"]=="x" && Cells["c2"]=="x" && Cells["c3"]=="x"
					|| Cells["a1"]=="x" && Cells["b1"]=="x" && Cells["c1"]=="x"
					|| Cells["a2"]=="x" && Cells["b2"]=="x" && Cells["c2"]=="x"
					|| Cells["a3"]=="x" && Cells["b3"]=="x" && Cells["c3"]=="x"
					
					|| Cells["a1"]=="x" && Cells["b2"]=="x" && Cells["c3"]=="x"
					|| Cells["a3"]=="x" && Cells["b2"]=="x" && Cells["c1"]=="x"
				
				){
					alert("Gratulálunk, nyertél!");
					$("td").css("background-image","none");
					Cells = {};
					Fields = ["a1","a2","a3","b1","b2","b3","c1","c2","c3"];
					ClickCounter = 0;
				}
				if(Cells["a1"]=="o" && Cells["a2"]=="o" && Cells["a3"]=="o" 
					|| Cells["b1"]=="o" && Cells["b2"]=="o" && Cells["b3"]=="o"
					|| Cells["c1"]=="o" && Cells["c2"]=="o" && Cells["c3"]=="o"
					|| Cells["a1"]=="o" && Cells["b1"]=="o" && Cells["c1"]=="o"
					|| Cells["a2"]=="o" && Cells["b2"]=="o" && Cells["c2"]=="o"
					|| Cells["a3"]=="o" && Cells["b3"]=="o" && Cells["c3"]=="o"
					
					|| Cells["a1"]=="o" && Cells["b2"]=="o" && Cells["c3"]=="o"
					|| Cells["a3"]=="o" && Cells["b2"]=="o" && Cells["c1"]=="o"
				
				){
					alert("Most vesztetettél. Próbáld újra!");
					$("td").css("background-image","none");
					Cells = {};
					Fields = ["a1","a2","a3","b1","b2","b3","c1","c2","c3"];
					ClickCounter = 0;
				}
				
				
				
				
					if(Cells["a1"]=="o" && Cells["a2"]=="o" && Fields.includes("a3")){Cells["a3"] ="o"; item = "a3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["a2"]=="o" && Cells["a3"]=="o" && Fields.includes("a1")){Cells["a1"] ="o"; item = "a1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["b1"]=="o" && Cells["b2"]=="o" && Fields.includes("b3")){Cells["b3"] ="o"; item = "b3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["b2"]=="o" && Cells["b3"]=="o" && Fields.includes("b1")){Cells["b1"] ="o"; item = "b1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["c1"]=="o" && Cells["c2"]=="o" && Fields.includes("c3")){Cells["c3"] ="o"; item = "c3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["c2"]=="o" && Cells["c3"]=="o" && Fields.includes("c1")){Cells["c1"] ="o"; item = "c1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}	
					else if(Cells["a1"]=="o" && Cells["a3"]=="o" && Fields.includes("a2")){Cells["a2"] ="o"; item = "a2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["b1"]=="o" && Cells["b3"]=="o" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["c1"]=="o" && Cells["c3"]=="o" && Fields.includes("c2")){Cells["c2"] ="o"; item = "c2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					
					//FÜGGŐLEGES
					else if(Cells["a1"]=="o" && Cells["b1"]=="o" && Fields.includes("c1")){Cells["c1"] ="o"; item = "c1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["a2"]=="o" && Cells["b2"]=="o" && Fields.includes("c2")){Cells["c2"] ="o"; item = "c2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["a3"]=="o" && Cells["b3"]=="o" && Fields.includes("c3")){Cells["c3"] ="o"; item = "c3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					
					else if(Cells["b1"]=="o" && Cells["c1"]=="o" && Fields.includes("a1")){Cells["a1"] ="o"; item = "a1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["b2"]=="o" && Cells["c2"]=="o" && Fields.includes("a2")){Cells["a2"] ="o"; item = "a2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["b3"]=="o" && Cells["c3"]=="o" && Fields.includes("a3")){Cells["a3"] ="o"; item = "a3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					
					else if(Cells["a1"]=="o" && Cells["c1"]=="o" && Fields.includes("b1")){Cells["b1"] ="o"; item = "b1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["a2"]=="o" && Cells["c2"]=="o" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["a3"]=="o" && Cells["c3"]=="o" && Fields.includes("b3")){Cells["b3"] ="o"; item = "b3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					
					//ÁTLÓS
					else if(Cells["a1"]=="o" && Cells["b2"]=="o" && Fields.includes("c3")){Cells["c3"] ="o"; item = "c3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["b2"]=="o" && Cells["c3"]=="o" && Fields.includes("a1")){Cells["a1"] ="o"; item = "a1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["a1"]=="o" && Cells["c3"]=="o" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					
					else if(Cells["a3"]=="o" && Cells["b2"]=="o" && Fields.includes("c1")){Cells["c1"] ="o"; item = "c1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["b2"]=="o" && Cells["c1"]=="o" && Fields.includes("a3")){Cells["a3"] ="o"; item = "a3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					else if(Cells["a3"]=="o" && Cells["c1"]=="o" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					
					else{
					
						if(Cells["a1"]=="x" && Cells["a2"]=="x" && Fields.includes("a3")){Cells["a3"] ="o"; item = "a3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["a2"]=="x" && Cells["a3"]=="x" && Fields.includes("a1")){Cells["a1"] ="o"; item = "a1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["b1"]=="x" && Cells["b2"]=="x" && Fields.includes("b3")){Cells["b3"] ="o"; item = "b3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["b2"]=="x" && Cells["b3"]=="x" && Fields.includes("b1")){Cells["b1"] ="o"; item = "b1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["c1"]=="x" && Cells["c2"]=="x" && Fields.includes("c3")){Cells["c3"] ="o"; item = "c3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["c2"]=="x" && Cells["c3"]=="x" && Fields.includes("c1")){Cells["c1"] ="o"; item = "c1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}	
						else if(Cells["a1"]=="x" && Cells["a3"]=="x" && Fields.includes("a2")){Cells["a2"] ="o"; item = "a2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["b1"]=="x" && Cells["b3"]=="x" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["c1"]=="x" && Cells["c3"]=="x" && Fields.includes("c2")){Cells["c2"] ="o"; item = "c2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						
						//FÜGGŐLEGES
						else if(Cells["a1"]=="x" && Cells["b1"]=="x" && Fields.includes("c1")){Cells["c1"] ="o"; item = "c1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["a2"]=="x" && Cells["b2"]=="x" && Fields.includes("c2")){Cells["c2"] ="o"; item = "c2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["a3"]=="x" && Cells["b3"]=="x" && Fields.includes("c3")){Cells["c3"] ="o"; item = "c3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						
						else if(Cells["b1"]=="x" && Cells["c1"]=="x" && Fields.includes("a1")){Cells["a1"] ="o"; item = "a1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["b2"]=="x" && Cells["c2"]=="x" && Fields.includes("a2")){Cells["a2"] ="o"; item = "a2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["b3"]=="x" && Cells["c3"]=="x" && Fields.includes("a3")){Cells["a3"] ="o"; item = "a3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						
						else if(Cells["a1"]=="x" && Cells["c1"]=="x" && Fields.includes("b1")){Cells["b1"] ="o"; item = "b1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["a2"]=="x" && Cells["c2"]=="x" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["a3"]=="x" && Cells["c3"]=="x" && Fields.includes("b3")){Cells["b3"] ="o"; item = "b3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						
						//ÁTLÓS
						else if(Cells["a1"]=="x" && Cells["b2"]=="x" && Fields.includes("c3")){Cells["c3"] ="o"; item = "c3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["b2"]=="x" && Cells["c3"]=="x" && Fields.includes("a1")){Cells["a1"] ="o"; item = "a1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["a1"]=="x" && Cells["c3"]=="x" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						
						else if(Cells["a3"]=="x" && Cells["b2"]=="x" && Fields.includes("c1")){Cells["c1"] ="o"; item = "c1"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["b2"]=="x" && Cells["c1"]=="x" && Fields.includes("a3")){Cells["a3"] ="o"; item = "a3"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
						else if(Cells["a3"]=="x" && Cells["c1"]=="x" && Fields.includes("b2")){Cells["b2"] ="o"; item = "b2"; $('#'+item).css("background-image","url('o.png')");Fields.splice($.inArray(item, Fields),1);}
					
						
						else{
							item = Fields[Math.floor(Math.random()*Fields.length)]; 
							Cells[item] = "o";
							$('#'+item).css("background-image","url('o.png')"); //beírja automatikusan az o-t
							Fields.splice($.inArray(item, Fields),1); //a tömbböl kitörlöm a már klikkelt elemet
							//alert(JSON.stringify(Fields)); //lecsekkolom, hogy a tömbben, mely elemek vannak még
							}
					
					}
					
				
			if(Cells["a1"]=="x" && Cells["a2"]=="x" && Cells["a3"]=="x" 
				|| Cells["b1"]=="x" && Cells["b2"]=="x" && Cells["b3"]=="x"
				|| Cells["c1"]=="x" && Cells["c2"]=="x" && Cells["c3"]=="x"
				|| Cells["a1"]=="x" && Cells["b1"]=="x" && Cells["c1"]=="x"
				|| Cells["a2"]=="x" && Cells["b2"]=="x" && Cells["c2"]=="x"
				|| Cells["a3"]=="x" && Cells["b3"]=="x" && Cells["c3"]=="x"
				
				|| Cells["a1"]=="x" && Cells["b2"]=="x" && Cells["c3"]=="x"
				|| Cells["a3"]=="x" && Cells["b2"]=="x" && Cells["c1"]=="x"
				
			){
				alert("Gratulálunk, nyertél!");
				$("td").css("background-image","none");
				Cells = {};
				Fields = ["a1","a2","a3","b1","b2","b3","c1","c2","c3"];
				ClickCounter = 0;
			}
			if(Cells["a1"]=="o" && Cells["a2"]=="o" && Cells["a3"]=="o" 
				|| Cells["b1"]=="o" && Cells["b2"]=="o" && Cells["b3"]=="o"
				|| Cells["c1"]=="o" && Cells["c2"]=="o" && Cells["c3"]=="o"
				|| Cells["a1"]=="o" && Cells["b1"]=="o" && Cells["c1"]=="o"
				|| Cells["a2"]=="o" && Cells["b2"]=="o" && Cells["c2"]=="o"
				|| Cells["a3"]=="o" && Cells["b3"]=="o" && Cells["c3"]=="o"
				
				|| Cells["a1"]=="o" && Cells["b2"]=="o" && Cells["c3"]=="o"
				|| Cells["a3"]=="o" && Cells["b2"]=="o" && Cells["c1"]=="o"
				
			){
				alert("Most vesztettél. Próbáld újra!");
				$("td").css("background-image","none");
				Cells = {};
				Fields = ["a1","a2","a3","b1","b2","b3","c1","c2","c3"];
				ClickCounter = 0;
			}
			
			
			if(ClickCounter == 5 || Fields.length == 0){
				$("td").css("background-image","none");
				Cells = {};
				Fields = ["a1","a2","a3","b1","b2","b3","c1","c2","c3"];
				ClickCounter = 0;
			}
		} 

		
	});
	
	
</script>
	
	
</body>

</html>

